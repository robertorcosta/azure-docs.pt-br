---
title: Compare os recursos do mecanismo de banco de dados SQL e do SQL Instância Gerenciada
titleSuffix: Azure SQL Database & SQL Managed Instance
description: Este artigo compara os recursos do mecanismo de banco de dados do banco de dados SQL do Azure e do Azure SQL Instância Gerenciada
services: sql-database
ms.service: sql-db-mi
ms.subservice: features
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: danimir
ms.author: danil
ms.reviewer: bonova, sstein, danil
ms.date: 03/08/2021
ms.openlocfilehash: 8c98ce661e7bb753d4e62d1eaf98702de91c5106
ms.sourcegitcommit: e6de1702d3958a3bea275645eb46e4f2e0f011af
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/20/2021
ms.locfileid: "102489762"
---
# <a name="features-comparison-azure-sql-database-and-azure-sql-managed-instance"></a>Comparação de recursos: banco de dados SQL do Azure e Azure SQL Instância Gerenciada

[!INCLUDE[appliesto-sqldb-sqlmi](../includes/appliesto-sqldb-sqlmi.md)]

O banco de dados SQL do Azure e o SQL Instância Gerenciada compartilham uma base de código comum com a versão estável mais recente do SQL Server. A maior parte da linguagem SQL padrão, o processamento de consulta e os recursos de gerenciamento de banco de dados são idênticos. Os recursos que são comuns entre SQL Server e o banco de dados SQL ou SQL Instância Gerenciada são:

- Recursos de linguagem [– controle de palavras-chave de linguagem de fluxo](/sql/t-sql/language-elements/control-of-flow), [cursores](/sql/t-sql/language-elements/cursors-transact-sql), [tipos de dados](/sql/t-sql/data-types/data-types-transact-sql), [instruções DML](/sql/t-sql/queries/queries), [predicados](/sql/t-sql/queries/predicates), [números de sequência](/sql/relational-databases/sequence-numbers/sequence-numbers), [procedimentos armazenados](/sql/relational-databases/stored-procedures/stored-procedures-database-engine)e [variáveis](/sql/t-sql/language-elements/variables-transact-sql).
- Recursos de banco de dados – [ajuste automático (imposição de plano)](/sql/relational-databases/automatic-tuning/automatic-tuning), [controle de alterações](/sql/relational-databases/track-changes/about-change-tracking-sql-server), [agrupamento de banco](/sql/relational-databases/collations/set-or-change-the-database-collation)de dados, bancos de dados [independentes](/sql/relational-databases/databases/contained-databases), [usuários independentes](/sql/relational-databases/security/contained-database-users-making-your-database-portable), [compactação de data](/sql/relational-databases/data-compression/data-compression), definições de configuração de [banco](/sql/t-sql/statements/alter-database-scoped-configuration-transact-sql)de dado, [operações de índice online](/sql/relational-databases/indexes/perform-index-operations-online), [particionamento](/sql/relational-databases/partitions/partitioned-tables-and-indexes)e [tabelas temporais](/sql/relational-databases/tables/temporal-tables) ([consulte o guia de introdução](../temporal-tables.md)).
- Recursos de segurança – [funções de aplicativo](/sql/relational-databases/security/authentication-access/application-roles), máscara de [dados dinâmicos](/sql/relational-databases/security/dynamic-data-masking) (consulte o guia de[introdução](dynamic-data-masking-overview.md)), [segurança em nível de linha](/sql/relational-databases/security/row-level-security)e detecção de ameaças-consulte guias de introdução para o banco de dados [SQL](threat-detection-configure.md) e [SQL instância gerenciada](../managed-instance/threat-detection-configure.md).
- Funcionalidades de vários modelos – [processamento de grafo](/sql/relational-databases/graphs/sql-graph-overview), [dados JSON](/sql/relational-databases/json/json-data-sql-server) ([consulte Guia de introdução](json-features.md)), [OPENXML](/sql/t-sql/functions/openxml-transact-sql), [Spatial](/sql/relational-databases/spatial/spatial-data-sql-server), [OPENJSON](/sql/t-sql/functions/openjson-transact-sql)e [índices XML](/sql/t-sql/statements/create-xml-index-transact-sql).

O Azure gerencia seus bancos de dados e garante sua alta disponibilidade. Alguns recursos que podem afetar a alta disponibilidade ou que não podem ser usados no ambiente de PaaS têm funcionalidades limitadas no banco de dados SQL e no SQL Instância Gerenciada. Esses recursos são descritos nas tabelas abaixo.

Se precisar de mais detalhes sobre as diferenças, você poderá encontrá-las nas páginas separadas:
- [Diferenças do banco de dados SQL do Azure versus SQL Server](transact-sql-tsql-differences-sql-server.md)
- [Diferenças do SQL Instância Gerenciada do Azure versus SQL Server](../managed-instance/transact-sql-tsql-differences-sql-server.md)

## <a name="features-of-sql-database-and-sql-managed-instance"></a>Recursos do banco de dados SQL e SQL Instância Gerenciada

A tabela a seguir lista os principais recursos do SQL Server e fornece informações sobre se o recurso tem suporte parcial ou total no banco de dados SQL do Azure e no SQL Instância Gerenciada do Azure, com um link para obter mais informações sobre o recurso.

| **Recurso** | **Banco de Dados SQL do Azure** | **Instância Gerenciada do SQL do Azure** |
| --- | --- | --- |
| [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine) | Sim - veja [Armazenamento de certificados](always-encrypted-certificate-store-configure.md) e [Cofre de chaves](always-encrypted-azure-key-vault-configure.md) | Sim - veja [Armazenamento de certificados](always-encrypted-certificate-store-configure.md) e [Cofre de chaves](always-encrypted-azure-key-vault-configure.md) |
| [Grupos de disponibilidade AlwaysOn](/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server) | [a disponibilidade de 99,99-99.995%](high-availability-sla.md) é garantida para cada banco de dados. A recuperação de desastre é abordada em [Visão geral da continuidade de negócios com o banco de dados SQL do Azure](business-continuity-high-availability-disaster-recover-hadr-overview.md) | [99,99 .% de disponibilidade](high-availability-sla.md) é garantido para cada banco de dados e [não pode ser gerenciado pelo usuário](../managed-instance/transact-sql-tsql-differences-sql-server.md#availability). A recuperação de desastre é discutida em [visão geral da continuidade de negócios com o banco de dados SQL do Azure](business-continuity-high-availability-disaster-recover-hadr-overview.md) Use [grupos de failover automático](auto-failover-group-overview.md) para configurar um instância gerenciada de SQL secundário em outra região. SQL Server instâncias e o banco de dados SQL não podem ser usados como secundários para SQL Instância Gerenciada. |
| [Anexar um banco de dados](/sql/relational-databases/databases/attach-a-database) | Não | Não |
| [Auditoria](/sql/relational-databases/security/auditing/sql-server-audit-database-engine) | [Sim](auditing-overview.md)| [Sim](../managed-instance/auditing-configure.md), com algumas [diferenças](../managed-instance/transact-sql-tsql-differences-sql-server.md#auditing) |
| [Autenticação do Azure AD (Azure Active Directory)](authentication-aad-overview.md) | Sim. Somente usuários do Azure AD. | Sim. Incluindo logons do Azure AD no nível do servidor. |
| [Comando de BACKUP](/sql/t-sql/statements/backup-transact-sql) | Não, somente backups automáticos iniciados pelo sistema – consulte [Backups automatizados](automated-backups-overview.md) | Sim, somente backups de cópia iniciados pelo usuário no armazenamento de BLOBs do Azure (backups de sistema automáticos não podem ser iniciados pelo usuário) – consulte [diferenças de backup](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) |
| [Funções internas](/sql/t-sql/functions/functions) | Maioria - veja funções individuais | Sim – consulte [Diferenças entre procedimentos armazenados, funções e gatilhos](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [instrução BULK INSERT](/sql/relational-databases/import-export/import-bulk-data-by-using-bulk-insert-or-openrowset-bulk-sql-server) | Sim, mas apenas do armazenamento de BLOBs do Azure como uma origem. | Sim, mas apenas do armazenamento de BLOBs do Azure como uma origem-consulte as [diferenças](../managed-instance/transact-sql-tsql-differences-sql-server.md#bulk-insert--openrowset). |
| [Certificados e chaves assimétricas](/sql/relational-databases/security/sql-server-certificates-and-asymmetric-keys) | Sim, sem acesso ao sistema de arquivos `BACKUP` para `CREATE` operações e. | Sim, sem acesso ao sistema de arquivos para `BACKUP` e `CREATE` operações-consulte [diferenças de certificado](../managed-instance/transact-sql-tsql-differences-sql-server.md#certificates). |
| [Captura de dados de alterações-CDC](/sql/relational-databases/track-changes/about-change-data-capture-sql-server) | Não | Sim |
| [Ordenação - servidor/instância](/sql/relational-databases/collations/set-or-change-the-server-collation) | Não, o agrupamento de servidor padrão `SQL_Latin1_General_CP1_CI_AS` sempre é usado. | Sim, pode ser definido quando a [instância é criada](../managed-instance/create-template-quickstart.md) e não pode ser atualizada mais tarde. |
| [Índices columnstore](/sql/relational-databases/indexes/columnstore-indexes-overview) | Sim- [camada Premium, camada Standard-S3 e superior, uso geral camada, comercialmente crítico e camadas de hiperescala](/sql/relational-databases/indexes/columnstore-indexes-overview) |Sim |
| [Common Language Runtime-CLR](/sql/relational-databases/clr-integration/common-language-runtime-clr-integration-programming-concepts) | Não | Sim, mas sem acesso ao sistema de arquivos na `CREATE ASSEMBLY` instrução-consulte [diferenças de CLR](../managed-instance/transact-sql-tsql-differences-sql-server.md#clr) |
| [Credenciais](/sql/relational-databases/security/authentication-access/credentials-database-engine) | Sim, mas apenas [as credenciais no escopo do banco de dados](/sql/t-sql/statements/create-database-scoped-credential-transact-sql). | Sim, mas somente **Azure Key Vault** e `SHARED ACCESS SIGNATURE` têm suporte-consulte [detalhes](../managed-instance/transact-sql-tsql-differences-sql-server.md#credential) |
| [Consultas de nome entre bancos de dados/três partes](/sql/relational-databases/linked-servers/linked-servers-database-engine) | Não – consulte [Consultas elásticas](elastic-query-overview.md) | Sim, além de [Consultas elásticas](elastic-query-overview.md) |
| [Transações entre bancos de dados](/sql/relational-databases/linked-servers/linked-servers-database-engine) | Não | Sim, dentro da instância. Consulte [diferenças de servidor vinculado](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers) para consultas entre instâncias. |
| [Database Mail-DbMail](/sql/relational-databases/database-mail/database-mail) | Não | Sim |
| [Espelhamento de banco de dados](/sql/database-engine/database-mirroring/database-mirroring-sql-server) | Não | [Não](../managed-instance/transact-sql-tsql-differences-sql-server.md#database-mirroring) |
| [Instantâneos de banco de dados](/sql/relational-databases/databases/database-snapshots-sql-server) | Não | Não |
| [Instruções DBCC](/sql/t-sql/database-console-commands/dbcc-transact-sql) | Maioria - veja Instruções individuais | Sim – consulte [Diferenças do DBCC](../managed-instance/transact-sql-tsql-differences-sql-server.md#dbcc) |
| [Instruções DDL](/sql/t-sql/statements/statements) | Maioria - veja Instruções individuais | Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Gatilhos DDL](/sql/relational-databases/triggers/ddl-triggers) | Apenas banco de dados |  Sim |
| [Exibições de partição distribuída](/sql/t-sql/statements/create-view-transact-sql#partitioned-views) | Não | Sim |
| [Transações distribuídas - MS DTC](/sql/relational-databases/native-client-ole-db-transactions/supporting-distributed-transactions) | Não - veja [transações elásticas](elastic-transactions-overview.md) |  Não-consulte [diferenças de servidor vinculado](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers). Tente consolidar bancos de dados de várias instâncias de SQL Server distribuídas em uma Instância Gerenciada SQL durante a migração. |
| [Gatilhos DML](/sql/relational-databases/triggers/create-dml-triggers) | Maioria - veja Instruções individuais |  Sim |
| [DMVs](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views) | A maioria – consulte DMVs individuais |  Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Consulta elástica](elastic-query-overview.md) (em visualização pública) | Sim, com o tipo RDBMS necessário. | Sim, com o tipo RDBMS necessário. |
| [Notificações de eventos](/sql/relational-databases/service-broker/event-notifications) | Não - veja [Alertas](alerts-insights-configure-portal.md) | Não |
| [Expressões](/sql/t-sql/language-elements/expressions-transact-sql) |Sim | Sim |
| [Eventos estendidos (XEvent)](/sql/relational-databases/extended-events/extended-events) | Alguns - veja [Eventos estendidos no Banco de Dados SQL](xevent-db-diff-from-svr.md) | Sim-consulte [diferenças de eventos estendidos](../managed-instance/transact-sql-tsql-differences-sql-server.md#extended-events) |
| [Procedimentos armazenados estendidos](/sql/relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures) | Não | Não |
| [Arquivos e grupos de arquivos](/sql/relational-databases/databases/database-files-and-filegroups) | Somente o grupo de arquivos primários | Sim. Os caminhos de arquivo são atribuídos automaticamente e o local do arquivo não pode ser especificado na `ALTER DATABASE ADD FILE` [instrução](../managed-instance/transact-sql-tsql-differences-sql-server.md#alter-database-statement).  |
| [FileStream](/sql/relational-databases/blob/filestream-sql-server) | Não | [Não](../managed-instance/transact-sql-tsql-differences-sql-server.md#filestream-and-filetable) |
| [Pesquisa de texto completo (FTS)](/sql/relational-databases/search/full-text-search) |  Sim, mas não há suporte para separadores de palavras de terceiros | Sim, mas [não há suporte para separadores de palavras de terceiros](../managed-instance/transact-sql-tsql-differences-sql-server.md#full-text-semantic-search) |
| [Funções](/sql/t-sql/functions/functions) | Maioria - veja funções individuais | Sim – consulte [Diferenças entre procedimentos armazenados, funções e gatilhos](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Otimização na memória](/sql/relational-databases/in-memory-oltp/in-memory-oltp-in-memory-optimization) | Sim [, nas camadas de serviço Premium e comercialmente crítico](../in-memory-oltp-overview.md).</br> Suporte limitado para objetos OLTP In-Memory não persistentes, como variáveis de tabela com otimização de memória na [camada de serviço de hiperescala](service-tier-hyperscale.md).| Sim na [camada de serviço comercialmente crítico](../managed-instance/sql-managed-instance-paas-overview.md) |
| [Elementos de linguagem](/sql/t-sql/language-elements/language-elements-transact-sql) | Maioria - veja elementos individuais |  Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Servidores vinculados](/sql/relational-databases/linked-servers/linked-servers-database-engine) | Não - veja [Consulta elástica](elastic-query-horizontal-partitioning.md) | Sim. Somente para [SQL Server e o banco de dados SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers) sem transações distribuídas. |
| [Servidores vinculados](/sql/relational-databases/linked-servers/linked-servers-database-engine) que lêem de arquivos (CSV, Excel)| Não. Use [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql#e-importing-data-from-a-csv-file) ou [OPENROWSET](/sql/t-sql/functions/openrowset-transact-sql#g-accessing-data-from-a-csv-file-with-a-format-file) como uma alternativa para o formato CSV. | Não. Use [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql#e-importing-data-from-a-csv-file) ou [OPENROWSET](/sql/t-sql/functions/openrowset-transact-sql#g-accessing-data-from-a-csv-file-with-a-format-file) como uma alternativa para o formato CSV. Acompanhar essas solicitações no [item de comentário sobre o SQL instância gerenciada](https://feedback.azure.com/forums/915676-sql-managed-instance/suggestions/35657887-linked-server-to-non-sql-sources)|
| [Envio de logs](/sql/database-engine/log-shipping/about-log-shipping-sql-server) | A [alta disponibilidade](high-availability-sla.md) é incluída em todos os bancos de dados. A recuperação de desastres é discutida em [visão geral da continuidade dos negócios](business-continuity-high-availability-disaster-recover-hadr-overview.md). | Desenvolvido nativamente como parte do processo de migração do [serviço de migração de dados do Azure (DMS)](../../dms/tutorial-sql-server-to-managed-instance.md) . Desenvolvido nativamente para projetos de migração de dados personalizados como um [LRS (serviço de reprodução de log externo)](../managed-instance/log-replay-service-migrate.md).<br /> Não disponível como uma solução de alta disponibilidade, porque outros métodos de [alta disponibilidade](high-availability-sla.md) estão incluídos em todos os bancos de dados e não é recomendável usar o envio de logs como alternativa de ha. A recuperação de desastres é discutida em [visão geral da continuidade dos negócios](business-continuity-high-availability-disaster-recover-hadr-overview.md). Não disponível como um mecanismo de replicação entre bancos de dados-use réplicas secundárias na [camada de comercialmente crítico](service-tier-business-critical.md), [grupos de failover automático](auto-failover-group-overview.md)ou [replicação transacional](../managed-instance/replication-transactional-overview.md) como as alternativas. |
| [Logons e usuários](/sql/relational-databases/security/authentication-access/principals-database-engine) | Sim, mas `CREATE` `ALTER` as instruções de logon não oferecem todas as opções (sem logons Azure Active Directory de nível de servidor e Windows). `EXECUTE AS LOGIN` Não é suportada `EXECUTE AS USER` . em vez disso, use.  | Sim, com algumas [diferenças](../managed-instance/transact-sql-tsql-differences-sql-server.md#logins-and-users). Não há suporte para logons do Windows e eles devem ser substituídos por logons Azure Active Directory. |
| [Log mínimo na importação em massa](/sql/relational-databases/import-export/prerequisites-for-minimal-logging-in-bulk-import) | Não, há suporte apenas para o modelo de recuperação completa. | Não, há suporte apenas para o modelo de recuperação completa. |
| [Modificando dados do sistema](/sql/relational-databases/databases/system-databases) | Não | Sim |
| [Automação OLE](/sql/database-engine/configure-windows/ole-automation-procedures-server-configuration-option) | Não | Não |
| [OPENDATASOURCE](/sql/t-sql/functions/opendatasource-transact-sql)|Não|Sim, somente para o banco de dados SQL, SQL Instância Gerenciada e SQL Server. Consulte [diferenças de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [OPENQUERY](/sql/t-sql/functions/openquery-transact-sql)|Não|Sim, somente para o banco de dados SQL, SQL Instância Gerenciada e SQL Server. Consulte [diferenças de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [OPENROWSET](/sql/t-sql/functions/openrowset-transact-sql)|Sim, somente para importar do armazenamento de BLOBs do Azure. |Sim, somente para o banco de dados SQL, SQL Instância Gerenciada e SQL Server, e para importar do armazenamento de BLOBs do Azure. Consulte [diferenças de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [Operadores](/sql/t-sql/language-elements/operators-transact-sql) | Maioria - veja operadores individuais |Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [PolyBase](/sql/relational-databases/polybase/polybase-guide) | Não. Você pode consultar dados nos arquivos colocados no armazenamento de BLOBs do Azure usando `OPENROWSET` a função ou usar [uma tabela externa que faça referência a um pool SQL sem servidor no Synapse Analytics](https://devblogs.microsoft.com/azure-sql/read-azure-storage-files-using-synapse-sql-external-tables/). | Não. Você pode consultar dados nos arquivos colocados no armazenamento de BLOBs do Azure usando `OPENROWSET` a função, [um servidor vinculado que faz referência a um pool SQL sem servidor no Synapse Analytics](https://devblogs.microsoft.com/azure-sql/linked-server-to-synapse-sql-to-implement-polybase-like-scenarios-in-managed-instance/)ou uma tabela externa (em visualização pública) que faz referência [a um pool SQL sem servidor no Synapse Analytics](https://devblogs.microsoft.com/azure-sql/read-azure-storage-files-using-synapse-sql-external-tables/) ou SQL Server. |
| [Notificações de consulta](/sql/relational-databases/native-client/features/working-with-query-notifications) | Não | Sim |
| [Serviços de Machine Learning](/sql/advanced-analytics/what-is-sql-server-machine-learning)(_anteriormente serviços de R_)| Sim, em [versão prévia pública](/sql/advanced-analytics/what-s-new-in-sql-server-machine-learning-services)  | Não |
| [Modelos de recuperação](/sql/relational-databases/backup-restore/recovery-models-sql-server) | Somente a recuperação completa que garante alta disponibilidade tem suporte. Modelos de recuperação simples e bulk-logged não estão disponíveis. | Somente a recuperação completa que garante alta disponibilidade tem suporte. Modelos de recuperação simples e bulk-logged não estão disponíveis. |
| [Administrador de recursos](/sql/relational-databases/resource-governor/resource-governor) | Não | Sim |
| [RESTORE statements](/sql/t-sql/statements/restore-statements-for-restoring-recovering-and-managing-backups-transact-sql) | Não | Sim, com opções obrigatórias `FROM URL` para os arquivos de backups colocados no armazenamento de BLOBs do Azure. Consulte [diferenças de restauração](../managed-instance/transact-sql-tsql-differences-sql-server.md#restore-statement) |
| [Restauração do banco de dados por meio de backup](/sql/relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases#restore-data-backups) | Somente de backups automatizados – consulte [Recuperação do Banco de Dados SQL](recovery-using-backups.md) | De backups automatizados-consulte [recuperação de banco de dados SQL](recovery-using-backups.md) e de backups completos colocados no armazenamento de BLOBs do Azure-consulte [diferenças de backup](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) |
| [Restaurar banco de dados para SQL Server](/sql/relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases#restore-data-backups) | Não. Use BACPAC ou BCP em vez de restauração nativa. | Não, porque SQL Server mecanismo de banco de dados usado no SQL Instância Gerenciada tem uma versão superior à versão RTM do SQL Server usado no local. Em vez disso, use BACPAC, BCP ou replicação transacional. |
| [Pesquisa semântica](/sql/relational-databases/search/semantic-search-sql-server) | Não | Não |
| [Service Broker](/sql/database-engine/configure-windows/sql-server-service-broker) | Não | Sim, mas somente dentro da instância. Se você estiver usando rotas de Service Broker remotas, tente consolidar bancos de dados de várias instâncias de SQL Server distribuídas em uma Instância Gerenciada SQL durante a migração e use apenas rotas locais. Consulte [diferenças de Service Broker](../managed-instance/transact-sql-tsql-differences-sql-server.md#service-broker) |
| [Definições de configuração do servidor](/sql/database-engine/configure-windows/server-configuration-options-sql-server) | Não | Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Instruções SET](/sql/t-sql/statements/set-statements-transact-sql) | Maioria - veja Instruções individuais | Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [SQL Server Agent](/sql/ssms/agent/sql-server-agent) | Não-veja [trabalhos elásticos (visualização)](elastic-jobs-overview.md) | Sim – consulte [Diferenças do SQL Server Agent](../managed-instance/transact-sql-tsql-differences-sql-server.md#sql-server-agent) |
| [Auditoria do SQL Server](/sql/relational-databases/security/auditing/sql-server-audit-database-engine) | Não - veja [auditoria do Banco de Dados SQL](auditing-overview.md) | Sim – consulte [Diferenças de auditoria](../managed-instance/transact-sql-tsql-differences-sql-server.md#auditing) |
| [Funções armazenadas do sistema](/sql/relational-databases/system-functions/system-functions-for-transact-sql) | Maioria - veja funções individuais | Sim – consulte [Diferenças entre procedimentos armazenados, funções e gatilhos](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Procedimentos armazenados do sistema](/sql/relational-databases/system-stored-procedures/system-stored-procedures-transact-sql) | Alguns - veja procedimentos armazenados individuais | Sim – consulte [Diferenças entre procedimentos armazenados, funções e gatilhos](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Tabelas do sistema](/sql/relational-databases/system-tables/system-tables-transact-sql) | Alguns - veja tabelas individuais | Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Exibições do catálogo do sistema](/sql/relational-databases/system-catalog-views/catalog-views-transact-sql) | Alguns - veja exibições individuais | Sim – consulte [Diferenças do T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [TempDB](/sql/relational-databases/databases/tempdb-database) | Sim. [32-GB de tamanho por núcleo para cada banco de dados](resource-limits-vcore-single-databases.md). | Sim. [tamanho de 24 GB por vCore para toda a camada GP e limitado pelo tamanho da instância na camada BC](../managed-instance/resource-limits.md#service-tier-characteristics)  |
| [Tabelas temporárias](/sql/t-sql/statements/create-table-transact-sql#database-scoped-global-temporary-tables-azure-sql-database) | Tabelas locais e temporárias globais no escopo do banco de dados | Tabelas locais e temporárias globais no escopo da instância |
| Opção de fuso horário | Não | [Sim](../managed-instance/timezones-overview.md), e ele deve ser configurado quando o instância gerenciada do SQL é criado. |
| [Sinalizadores de rastreamento](/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql) | Não | Sim, mas apenas um conjunto limitado de sinalizadores de rastreamento global. Consulte [diferenças de DBCC](../managed-instance/transact-sql-tsql-differences-sql-server.md#dbcc) |
| [Replicação transacional](../managed-instance/replication-transactional-overview.md) | Sim, [somente assinante de replicação transacional e de instantâneo](migrate-to-database-from-sql-server.md) | Sim, em [Visualização pública](/sql/relational-databases/replication/replication-with-sql-database-managed-instance). Consulte as restrições [aqui](../managed-instance/transact-sql-tsql-differences-sql-server.md#replication). |
| [Transparent data encryption (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption-tde) | Sim – somente as camadas de serviço Comercialmente Crítica e de Uso Geral| [Sim](transparent-data-encryption-tde-overview.md) |
| Autenticação do Windows | Não | Não |
| [Clustering de Failover do Windows Server](/sql/sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server) | Não. Outras técnicas que fornecem [alta disponibilidade](high-availability-sla.md) estão incluídas em todos os bancos de dados. A recuperação de desastre é discutida em [visão geral da continuidade de negócios com o banco de dados SQL do Azure](business-continuity-high-availability-disaster-recover-hadr-overview.md) | Não. Outras técnicas que fornecem [alta disponibilidade](high-availability-sla.md) estão incluídas em todos os bancos de dados. A recuperação de desastre é discutida em [visão geral da continuidade de negócios com o banco de dados SQL do Azure](business-continuity-high-availability-disaster-recover-hadr-overview.md) |

## <a name="platform-capabilities"></a>Funcionalidades da plataforma

A plataforma Azure fornece vários recursos de PaaS que são adicionados como um valor adicional aos recursos de banco de dados padrão. Há vários serviços externos que podem ser usados com o banco de dados SQL do Azure.

| **Recurso de plataforma** | **Banco de Dados SQL do Azure** | **Instância Gerenciada do SQL do Azure** |
| --- | --- | --- |
| [Replicação geográfica ativa](active-geo-replication-overview.md) | Sim-todas as camadas de serviço que não sejam de hiperescala | Não, consulte [grupos de failover automático](auto-failover-group-overview.md) como uma alternativa |
| [Grupos de failover automático](auto-failover-group-overview.md) | Sim-todas as camadas de serviço que não sejam de hiperescala | Sim, consulte [grupos de failover automático](auto-failover-group-overview.md)|
| Dimensionamento automático | Sim, mas somente no [modelo sem servidor](serverless-tier-overview.md). No modelo sem servidor, a alteração da camada de serviço (alteração de vCore, armazenamento ou DTU) é rápida e online. A alteração da camada de serviço requer um mínimo ou nenhum tempo de inatividade. | Não, você precisa escolher a computação reservada e o armazenamento. A alteração da camada de serviço (vCore ou máximo de armazenamento) está online e requer um tempo de inatividade mínimo ou nenhum. |
| [Backups automáticos](automated-backups-overview.md) | Sim. Os backups completos são feitos a cada 7 dias, diferencial 12 horas e backups de log a cada 5-10 min. | Sim. Os backups completos são feitos a cada 7 dias, diferencial 12 horas e backups de log a cada 5-10 min. |
| [Ajuste automático (índices)](/sql/relational-databases/automatic-tuning/automatic-tuning)| [Sim](automatic-tuning-overview.md)| Não |
| [Zonas de Disponibilidade](../../availability-zones/az-overview.md) | Sim | Não |
| [Azure Resource Health](../../service-health/resource-health-overview.md) | Sim | Não |
| Retenção de backup | Sim. padrão de 7 dias, no máximo 35 dias. | Sim. padrão de 7 dias, no máximo 35 dias. |
| [DMS (Serviço de Migração de Dados)](/sql/dma/dma-overview) | Sim | Sim |
| [Trabalhos elásticos](elastic-jobs-overview.md) | Sim-consulte [trabalhos elásticos (versão prévia)](elastic-jobs-overview.md) | Não (o[SQL Agent](../managed-instance/transact-sql-tsql-differences-sql-server.md#sql-server-agent) pode ser usado em vez disso). |
| Acesso ao sistema de arquivos | Não. Use [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql#f-importing-data-from-a-file-in-azure-blob-storage) ou [OPENROWSET](/sql/t-sql/functions/openrowset-transact-sql#i-accessing-data-from-a-file-stored-on-azure-blob-storage) para acessar e carregar dados do armazenamento de BLOBs do Azure como uma alternativa. | Não. Use [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql#f-importing-data-from-a-file-in-azure-blob-storage) ou [OPENROWSET](/sql/t-sql/functions/openrowset-transact-sql#i-accessing-data-from-a-file-stored-on-azure-blob-storage) para acessar e carregar dados do armazenamento de BLOBs do Azure como uma alternativa. |
| [Restauração geográfica](recovery-using-backups.md#geo-restore) | Sim | Sim |
| [Arquitetura de hiperescala](service-tier-hyperscale.md) | Sim | Não |
| [Retenção de backup de longo prazo-EPD](long-term-retention-overview.md) | Sim, mantenha backups feitos automaticamente até 10 anos. | Ainda não. Use `COPY_ONLY` [backups manuais](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) como uma solução alternativa temporária. |
| Pausar/retomar | Sim, em [modelo sem servidor](serverless-tier-overview.md) | Não |
| [Gerenciamento baseado em políticas](/sql/relational-databases/policy-based-management/administer-servers-by-using-policy-based-management) | Não | Não |
| Endereço IP público | Sim. O acesso pode ser restrito usando pontos de extremidade de firewall ou de serviço.  | Sim. Precisa ser habilitado explicitamente e a porta 3342 deve ser habilitada em regras NSG. O IP público pode ser desabilitado se necessário. Consulte [ponto de extremidade público](../managed-instance/public-endpoint-overview.md) para obter mais detalhes. |
| [Restauração pontual de banco de dados](/sql/relational-databases/backup-restore/restore-a-sql-server-database-to-a-point-in-time-full-recovery-model) | Sim-todas as camadas de serviço que não sejam de hiperescala-consulte [recuperação de banco de dados SQL](recovery-using-backups.md#point-in-time-restore) | Sim - veja [Recuperação do Banco de Dados SQL](recovery-using-backups.md#point-in-time-restore) |
| Pools de recursos | Sim, como [pools elásticos](elastic-pool-overview.md) | Sim. Uma única instância do SQL Instância Gerenciada pode ter vários bancos de dados que compartilham o mesmo pool de recursos. Além disso, você pode implantar várias instâncias do SQL Instância Gerenciada em [pools de instância (versão prévia)](../managed-instance/instance-pools-overview.md) que podem compartilhar os recursos. |
| Expansão ou redução (online) | Sim, você pode alterar o DTU ou o vCores reservado ou o armazenamento máximo com o tempo de inatividade mínimo. | Sim, você pode alterar o armazenamento reservado vCores ou Max com o tempo de inatividade mínimo. |
| [Alias do SQL](/sql/database-engine/configure-windows/create-or-delete-a-server-alias-for-use-by-a-client) | Não, usar [alias DNS](dns-alias-overview.md) | Não, use [Clicongf](https://techcommunity.microsoft.com/t5/Azure-Database-Support-Blog/Lesson-Learned-33-How-to-make-quot-cliconfg-quot-to-work-with/ba-p/369022) para configurar o alias nos computadores cliente. |
| [Análise de SQL](../../azure-monitor/insights/azure-sql.md) | Sim | Sim |
| [Sincronização de Dados SQL](sql-data-sync-sql-server-configure.md) | Sim | Não |
| [SSAS (SQL Server Analysis Services)](/sql/analysis-services/analysis-services) | Não, [Azure Analysis Services](https://azure.microsoft.com/services/analysis-services/) é um serviço de nuvem do Azure separado. | Não, [Azure Analysis Services](https://azure.microsoft.com/services/analysis-services/) é um serviço de nuvem do Azure separado. |
| [SQL Server Integration Services (SSIS)](/sql/integration-services/sql-server-integration-services) | Sim, com um SSIS gerenciado no ambiente da fábrica de dados do Azure (AAD), onde os pacotes estão armazenados no SSISDB hospedado pelo banco de dados SQL do Azure e executado no Azure-SSIS IR (Integration Runtime), consulte [criar IR do Azure-SSIS no ADF](../../data-factory/create-azure-ssis-integration-runtime.md). <br/><br/>Para comparar os recursos do SSIS no banco de dados SQL e o SQL Instância Gerenciada, consulte [comparar banco de dados SQL com sql instância gerenciada](../../data-factory/create-azure-ssis-integration-runtime.md#comparison-of-sql-database-and-sql-managed-instance). | Sim, com um SSIS gerenciado no ambiente Azure Data Factory (ADF), em que os pacotes são armazenados no SSISDB hospedado pelo SQL Instância Gerenciada e executados no Azure SSIS Integration Runtime (IR), consulte [criar Azure-SSIS ir no ADF](../../data-factory/create-azure-ssis-integration-runtime.md). <br/><br/>Para comparar os recursos do SSIS no banco de dados SQL e o SQL Instância Gerenciada, consulte [comparar banco de dados SQL com sql instância gerenciada](../../data-factory/create-azure-ssis-integration-runtime.md#comparison-of-sql-database-and-sql-managed-instance). |
| [SSRS (SQL Server Reporting Services)](/sql/reporting-services/create-deploy-and-manage-mobile-and-paginated-reports) | Não – [consulte Power BI](/power-bi/) | Não. Use [Relatórios paginados do Power BI](/power-bi/paginated-reports/paginated-reports-report-builder-power-bi) ou hospede o SSRS em uma VM do Azure. Embora a Instância Gerenciada de SQL não possa executar o SSRS como serviço, ela pode hospedar [bancos de dados de catálogo SSRS](/sql/reporting-services/install-windows/ssrs-report-server-create-a-report-server-database#database-server-version-requirements) para um servidor de relatórios instalado na Máquina Virtual do Azure, usando a autenticação do SQL Server. |
| [Informações de desempenho de consulta (QPI)](query-performance-insight-use.md) | Sim | Não. Use relatórios internos em SQL Server Management Studio e Azure Data Studio. |
| [VNET](../../virtual-network/virtual-networks-overview.md) | Parcial, ele habilita o acesso restrito usando [pontos de extremidade de VNet](vnet-service-endpoint-rule-overview.md) | Sim, o SQL Instância Gerenciada é injetado na VNet do cliente. Consulte [sub-rede](../managed-instance/transact-sql-tsql-differences-sql-server.md#subnet) e rede [virtual](../managed-instance/transact-sql-tsql-differences-sql-server.md#vnet) |
| Ponto de extremidade de serviço VNet | [Sim](vnet-service-endpoint-rule-overview.md) | Não |
| Emparelhamento global de VNet | Sim, usando [IP privado e pontos de extremidade de serviço](vnet-service-endpoint-rule-overview.md) | Sim, usando o [emparelhamento de rede virtual](https://techcommunity.microsoft.com/t5/azure-sql/new-feature-global-vnet-peering-support-for-azure-sql-managed/ba-p/1746913). |

## <a name="tools"></a>Ferramentas

O banco de dados SQL do Azure e o Azure SQL Instância Gerenciada oferecem suporte a várias ferramentas de data que podem ajudá-lo a gerenciar seus dados.

| **Ferramenta** | **Banco de Dados SQL do Azure** | **Instância Gerenciada do SQL do Azure** |
| --- | --- | --- |
| Portal do Azure | Sim | Sim |
| CLI do Azure | Sim | Sim|
| [Azure Data Studio](/sql/azure-data-studio/what-is) | Sim | Sim |
| Azure PowerShell | Sim | Sim |
| [Arquivo BACPAC (exportação)](/sql/relational-databases/data-tier-applications/export-a-data-tier-application) | Sim, veja [Exportação do Banco de Dados SQL](database-export.md) | Sim-consulte [exportação de instância gerenciada do SQL](database-export.md) |
| [Arquivo BACPAC (importação)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database) | Sim - veja [Importação de Banco de Dados SQL](database-import.md) | Sim – consulte [importação de instância gerenciada do SQL](database-import.md) |
| [Data Quality Services (DQS)](/sql/data-quality-services/data-quality-services) | Não | Não |
| [Master Data Services (MDS)](/sql/master-data-services/master-data-services-overview-mds) | Não | Não |
| [SMO](/sql/relational-databases/server-management-objects-smo/sql-server-management-objects-smo-programming-guide) | [Sim](https://www.nuget.org/packages/Microsoft.SqlServer.SqlManagementObjects) | Sim, [versão 150](https://www.nuget.org/packages/Microsoft.SqlServer.SqlManagementObjects) |
| [SSDT (SQL Server Data Tools)](/sql/ssdt/download-sql-server-data-tools-ssdt) | Sim | Sim |
| [SQL Server Management Studio (SSMS)](/sql/ssms/download-sql-server-management-studio-ssms) | Sim | Sim [, versão 18,0 e superior](/sql/ssms/download-sql-server-management-studio-ssms) |
| [SQL Server PowerShell](/sql/relational-databases/scripting/sql-server-powershell) | Sim | Sim |
| [SQL Server Profiler](/sql/tools/sql-server-profiler/sql-server-profiler) | Não - veja [Eventos estendidos](xevent-db-diff-from-svr.md) | Sim |
| [System Center Operations Manager (SCOM)](/system-center/scom/welcome) | [Sim](https://www.microsoft.com/download/details.aspx?id=38829) | [Sim](https://www.microsoft.com/en-us/download/details.aspx?id=101203) |

## <a name="migration-methods"></a>Métodos de migração

Você pode usar diferentes métodos de migração para mover seus dados entre SQL Server, banco de dados SQL do Azure e SQL do Azure Instância Gerenciada. Alguns métodos estão **online** e selecionando todas as alterações feitas na origem enquanto você estiver executando a migração, enquanto em métodos **offline** , você precisa parar a carga de trabalho que está modificando os dados na origem enquanto a migração está em andamento.

| **Origem** | **Banco de Dados SQL do Azure** | **Instância Gerenciada do SQL do Azure** |
| --- | --- | --- |
| SQL Server (local, AzureVM, Amazon RDS) | **Online:** [serviço de migração de dados (DMS)](/sql/dma/dma-overview), [replicação transacional](../managed-instance/replication-transactional-overview.md) <br/> **Offline:** [arquivo BACPAC (importar)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp | **Online:** [serviço de migração de dados (DMS)](/sql/dma/dma-overview), [replicação transacional](../managed-instance/replication-transactional-overview.md) <br/> **Offline:** Backup/restauração nativos, [arquivo BACPAC (importação)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp, [replicação de instantâneo](../managed-instance/replication-transactional-overview.md) |
| Banco de dados individual | **Offline:** [arquivo BACPAC (importar)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp | **Offline:** [arquivo BACPAC (importar)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp |
| Instância Gerenciada de SQL | **Online:** [replicação transacional](../managed-instance/replication-transactional-overview.md) <br/> **Offline:** [arquivo BACPAC (importar)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp, [replicação de instantâneo](../managed-instance/replication-transactional-overview.md) | **Online:** [replicação transacional](../managed-instance/replication-transactional-overview.md) <br/> **Offline:** Restauração pontual de instância cruzada ([Azure PowerShell](/powershell/module/az.sql/restore-azsqlinstancedatabase#examples) ou [CLI do Azure](https://techcommunity.microsoft.com/t5/Azure-SQL-Database/Cross-instance-point-in-time-restore-in-Azure-SQL-Database/ba-p/386208)), [backup/restauração nativo](../managed-instance/restore-sample-database-quickstart.md), [arquivo BACPAC (importação)](/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), bcp, [replicação de instantâneo](../managed-instance/replication-transactional-overview.md) |

## <a name="next-steps"></a>Próximas etapas

A Microsoft continua adicionando recursos ao Banco de Dados SQL do Azure. Visite a página da Web Atualizações de serviço do Azure para obter as atualizações mais recentes usando estes filtros:

- Filtrado para o [banco de dados SQL do Azure](https://azure.microsoft.com/updates/?service=sql-database).
- Filtrado para os [ \( \) comunicados de GA de disponibilidade geral](https://azure.microsoft.com/updates/?service=sql-database&update-type=general-availability) para recursos do banco de dados SQL.

Para obter mais informações sobre o banco de dados SQL do Azure e o Azure SQL Instância Gerenciada, consulte:

- [O que é o Banco de Dados SQL do Azure?](sql-database-paas-overview.md)
- [O que é Instância Gerenciada de SQL do Azure?](../managed-instance/sql-managed-instance-paas-overview.md)
- [O que é um pool de Instância Gerenciada do Azure SQL?](../managed-instance/instance-pools-overview.md)
