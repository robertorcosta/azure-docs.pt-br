---
title: Guia de personalização de tarefas de análise de código de segurança Microsoft Azure
description: Este artigo descreve as opções de configuração do YAML para personalizar todas as tarefas na extensão de análise de código de segurança da Microsoft
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: d8ffc5d8e2f594cbf608f7943e48417b172522c4
ms.sourcegitcommit: c38a1f55bed721aea4355a6d9289897a4ac769d2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/05/2019
ms.locfileid: "74852400"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Opções de configuração do YAML para personalizar as tarefas de compilação

Este artigo lista todas as opções de configuração do YAML disponíveis em cada uma das tarefas de compilação. O artigo começa com as tarefas de ferramentas de análise de código de segurança. Ele termina com as tarefas de pós-processamento.

## <a name="anti-malware-scanner-task"></a>Tarefa de scanner antimalware

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Seleção | always | True | Basic | Básico, personalizado | 
| ScanType | Seleção | InputType = básico | True | CustomScan | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | O tipo de verificação a ser usado para a verificação de antimalware.
| FileDirPath | filePath | ScanType = CustomScan | True | $ (Build. StagingDirectory) |  | Indica o arquivo ou diretório a ser examinado.
| DisableRemediation | Booliano | ScanType = CustomScan | False | true |  | Quando marcada: 1) as exclusões de arquivo são ignoradas. 2) os arquivos mortos são verificados. 3) as ações não são aplicadas após a detecção. 4) as entradas do log de eventos não são gravadas após a detecção. 5) as detecções da verificação personalizada não são exibidas na interface do usuário. 6) a saída do console mostrará a lista de detecções da verificação personalizada.
| BootSectorScan | Booliano | ScanType = CustomScan | False | falso |  | Se marcada, ela habilita a verificação do setor de inicialização.
| Argumentos | string | InputType = personalizado | True | -Scan-Examinátype 3-DisableRemediation-arquivo $ (Build. StagingDirectory) |  | Os argumentos de linha de comando, em que o argumento para-File é um caminho absoluto ou um caminho relativo para o $ (Build. StagingDirectory) predefinido em seu agente de compilação. Observação: se você não fornecer um argumento para-File como o último argumento, o padrão será $ (Build. StagingDirectory). Você também pode fornecer seus próprios argumentos permitidos pela ferramenta MpCmdRun. exe.<br/><br/>Para obter mais detalhes sobre os argumentos de linha de comando para essa ferramenta, digite <strong>-h</strong> ou <strong>-?</strong> no campo argumentos e execute a tarefa de compilação.
| Habilitadoservices | Booliano | always | True | falso |  | Se marcado, ele tentará habilitar os serviços necessários para Windows Update caso estejam desabilitados.<br/>**Observação**: Verifique se a política de grupo não desabilita os serviços e se a conta em que essa compilação está sendo executada tem privilégios de administrador.
| SupportLogOnError | Booliano | always | True | falso |  | Se marcada, ela coletará os arquivos de suporte para diagnóstico quando ocorre um erro. Isso pode levar alguns minutos.<br/>**Observação**: Certifique-se de que a conta em que essa compilação está sendo executada tenha privilégios de administrador.
| TreatSignatureUpdateFailureAs | Seleção | always | True | Aviso | Erro, padrão, aviso | O nível de log usado se a assinatura não puder ser atualizada em tempo de execução. Quando definido como **erro**, uma falha ao atualizar a assinatura falhará na tarefa de compilação. Observe que é comum que a atualização de assinatura falhe em agentes de compilação hospedados, mesmo que a assinatura possa ser relativamente atual (menos de 3 horas).
| SignatureFreshness | Seleção | always | True | UpToDate | OneDay, ThreeDays, TwoDays, UpToDate | A idade máxima permitida para a assinatura antimalware. Se a assinatura não puder ser atualizada e for mais antiga que esse valor, a tarefa de compilação se comportará de acordo com o valor selecionado no campo **idade de assinaturas de validação como** . Observação: se você escolher **atualizado**, as assinaturas poderão ter até 3 horas de idade.
| TreatStaleSignatureAs | Seleção | always | True | Erro | Erro, padrão, aviso | O nível de log usado se a idade da assinatura for mais antiga que a **idade da assinatura Antimalware**selecionada. Uma assinatura desatualizada pode ser tratada como um **aviso** ou **informativo** para continuar com a verificação de Antimalware, mas isso não é recomendado.

## <a name="binskim-task"></a>Tarefa BinSkim

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Seleção | always | True | Basic | Básico, linha de comando | 
| argumentos | string | InputType = linha de comando | True |  |  | Argumentos de linha de comando Binskim padrão a serem executados. O caminho de saída será removido e substituído.<br>Para obter mais detalhes sobre os argumentos de linha de comando para essa ferramenta, insira **ajuda** no campo argumentos e execute a tarefa de compilação.
| Função | Seleção | InputType = básico | True | observa | analisar, despejar, exportConfig, exportRules | 
| AnalyzeTarget | filePath | InputType = Basic & & function = analisar | True | $ (Build. ArtifactStagingDirectory)\*. dll;<br>$ (Build. ArtifactStagingDirectory)\*. exe |  | Um ou mais especificadores para um arquivo, diretório ou padrão de filtro que é resolvido para um ou mais binários para analisar. (lista separada '; ')
| AnalyzeSymPath | string | InputType = Basic & & function = analisar | False |  |  | Caminho para o arquivo de símbolos para o destino.
| AnalyzeConfigPath | string | InputType = Basic & & function = analisar | False | padrão |  | Caminho para um arquivo de política que será usado para configurar a análise. Passe o valor de ' default ' para usar configurações internas.
| AnalyzePluginPath | string | InputType = Basic & & function = analisar | False |  |  | Caminho para um plug-in que será invocado em relação a todos os destinos no conjunto de análise.
| AnalyzeRecurse | Booliano | InputType = Basic & & function = analisar | False | true |  | Recurse em subdiretórios ao avaliar argumentos de especificador de arquivo.
| AnalyzeVerbose | Booliano | InputType = Basic & & function = analisar | False | falso |  | Emitir saída detalhada. O relatório abrangente resultante é projetado para fornecer evidências apropriadas para cenários de conformidade.
| AnalyzeHashes | Booliano | InputType = Basic & & function = analisar | False | falso |  | Saída de hash SHA-256 de destinos de análise ao emitir relatórios de SARIF.
| AnalyzeStatistics | Booliano | InputType = Basic & & function = analisar | False | falso |  | Gere o tempo e outras estatísticas para a sessão de análise.
| AnalyzeEnvironment | Booliano | InputType = Basic & & function = analisar | False | falso |  | Detalhes do ambiente da máquina de log de executar para o arquivo de saída. Aviso: essa opção registra informações potencialmente confidenciais (como todos os valores de variáveis de ambiente) em qualquer log emitido.
| ExportRulesOutputType | Seleção | InputType = Basic & & function = exportRules | False | SARIF | SARIF, SonarQube | O tipo de arquivo de descritor de regras para saída. Isso será incluído na pasta de logs do BinSkim publicada pela tarefa de compilação de logs de análise de segurança de publicação.
| DumpTarget | filePath | InputType = Basic & & function = dump | True | $ (Build. ArtifactStagingDirectory) |  | Um ou mais especificadores para um arquivo, diretório ou padrão de filtro que é resolvido para um ou mais binários para analisar. (lista separada '; ')
| DumpRecurse | Booliano | InputType = Basic & & function = dump | False | true |  | Recurse em subdiretórios ao avaliar argumentos de especificador de arquivo.
| DumpVerbose | Booliano | InputType = Basic & & function = dump | False | true |  | Emitir saída detalhada. O relatório abrangente resultante é projetado para fornecer evidências apropriadas para cenários de conformidade.
| toolVersion | Seleção | always | False | Mais recente | 1.5.0, mais recente, LatestPreRelease | A versão da ferramenta a ser executada.

## <a name="credential-scanner-task"></a>Tarefa do verificador de credenciais

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | Seleção | always | False | pre | CSV, pré-TSV | O formato de saída do arquivo de resultados do verificador de credenciais.
| toolVersion | Seleção | always | False | Mais recente | 1.27.7, mais recente, LatestPreRelease | A versão da ferramenta a ser executada.
| scanFolder | filePath | always | False | $ (Build. SourcesDirectory) |  | A pasta em seu repositório para verificar se há credenciais.
| searchersFileType | Seleção | always | False | Padrão | Personalizado, padrão, DefaultAndCustom | Opções para localizar o arquivo de pesquisador usado para verificação.
| searchersFile | filePath | searchersFileType = = Custom ou searchersFileType = = DefaultAndCustom | False |  |  | O arquivo de configuração dos pesquisadores de verificadores de credenciais de verificações a serem executadas. Vários valores podem ser incluídos e usados fornecendo uma lista separada por vírgulas de caminhos para arquivos de pesquisador de credenciais.
| suppressionsFile | filePath | always | False |  |  | O arquivo de supressões do verificador de credenciais a ser usado para suprimir problemas no log de saída.
| suppressAsError | Booliano | always | False | falso |  | As correspondências suprimidas serão saída para o arquivo de saída [-O]-corresponde. [-f] em vez do arquivo de saída suprimido padrão [-O]-suprimido. [-f]. (O padrão é ' false ')
| verboseOutput | Booliano | always | False | falso |  | Informações detalhadas de saída.
| batchSize | string | always | False |  |  | O número de threads simultâneos usados para executar os verificadores de credenciais em paralelo. (O padrão é 20)<br/>O valor deve estar dentro do intervalo de 1-2147483647.
| regexMatchTimeoutInSeconds | string | always | False |  |  | A quantidade de tempo em segundos a ser gasto tentando uma correspondência de pesquisador antes de abandonar a verificação.<br/>Adiciona ``-Co RegexMatchTimeoutInSeconds=<Value>`` à linha de comando.
| fileScanReadBufferSize | string | always | False |  |  | Tamanho do buffer ao ler o conteúdo em bytes. (O padrão é 524288)<br/>Adiciona ``-Co FileScanReadBufferSize=<Value>`` à linha de comando.
| maxFileScanReadBytes | string | always | False |  |  | Número máximo de bytes a serem lidos de um determinado arquivo durante a análise de conteúdo. (O padrão é 104857600)<br/>Adiciona ``-Co MaxFileScanReadBytes=<Value>`` à linha de comando.

## <a name="microsoft-security-risk-detection-task"></a>Tarefa de detecção de riscos de segurança da Microsoft

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ServiceEndpointName | connectedService: genérico | always | True |  |  | O nome do ponto de extremidade de serviço pré-configurado (tipo genérico) em seu projeto do VSTS que armazena a URL da instância do MSRD (você se integra à) e o token de acesso da API REST (que foi gerado na página de configurações da conta e permite acesso completo à sua conta).
| AccountId | string | always | True |  |  | O GUID que identifica a conta. Ele pode ser recuperado da URL da conta.
| BinariesURL | string | always | True |  |  | Uma lista delimitada por ponto e vírgula de URLs a serem usadas pelo computador de difusão para baixar os binários. Verifique se as URLs estão disponíveis publicamente.
| SeedsURL | string | always | False |  |  | Uma lista delimitada por ponto e vírgula de URLs a serem usadas pelo computador de difusão para baixar as sementes. Verifique se as URLs estão disponíveis publicamente.
| OSPlatformType | Seleção | always | True | Windows | Linux, Windows | O tipo de plataforma do sistema operacional em que os computadores executarão o trabalho de difusão.
| WindowsEdition | string | OSPlatformType = Windows | True | Server 2008 R2 |  | A edição do sistema operacional dos computadores nos quais executar o trabalho de difusão.
| LinuxEdition | string | OSPlatformType = Linux | True | Redhat |  | A edição do sistema operacional dos computadores nos quais executar o trabalho de difusão.
| PreSubmissionCommand | string | always | False |  |  | O script que precisa ser executado em um computador de teste para instalar o programa de destino de teste e suas dependências antes do envio do trabalho de fuzzing.
| SeedDirectory | string | always | True |  |  | Caminho para o diretório na máquina difusa que contém as sementes. Consulte [diretório do arquivo de semente](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory) para obter detalhes.
| SeedExtension | string | always | True |  |  | A extensão de arquivo das sementes.
| TestDriverExecutable | string | always | True |  |  | Caminho para o executável de destino no computador de difusão. Veja [o caminho completo para o EPE](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe) para obter detalhes.
| TestDriverExeType | Seleção | always | True | x86 | AMD64, x86 | A arquitetura de arquivo executável de destino.
| TestDriverParameters | string | always | True | "% Testfile%" |  | Argumentos de linha de comando passados para o executável de destino de teste. Observe que o símbolo **"% Testfile%"** , incluindo as aspas duplas, será automaticamente substituído pelo caminho completo do arquivo de destino que o driver de teste deve analisar e é obrigatório. Consulte [argumentos de linha de comando](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments) para obter detalhes.
| ClosesItself | Booliano | always | True | true |  | Verifique se o driver de teste é encerrado após a conclusão (por exemplo, o driver de teste analisa os arquivos de entrada e sai imediatamente); Desmarque se o driver de teste precisa ser fechado à força (por exemplo, o driver de teste é um aplicativo de GUI cuja janela principal permanece aberta após a análise da entrada). Consulte [autoterminação](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination) para obter detalhes.
| MaxDurationInSeconds | string | always | True | 5 |  | Duração máxima do driver de teste, em segundos. Forneça uma estimativa do tempo razoavelmente esperado mais longo necessário para que o programa de destino analise um arquivo de entrada. Quanto mais precisa for a estimativa, mais eficiente é a execução difusa. Consulte [duração máxima de execução esperada](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration) para obter detalhes.
| CanRunRepeat | Booliano | always | True | true |  | Verifique se o driver de teste pode ser executado repetidamente sem depender de um estado global persistente/compartilhado. Consulte [execuções do zero](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch) para obter detalhes.
| CanTestDriverBeRenamed | Booliano | always | True | falso |  | Verifique se o executável do driver de teste pode ser renomeado e ainda pode funcionar corretamente. Consulte [pode ser renomeado e paralelizado](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized) para obter detalhes.
| SingleOsProcess | Booliano | always | True | falso |  | Verificar se o driver de teste é executado em um único processo de sistema operacional; Desmarque se o driver de teste gerar processos adicionais. Consulte [processo único](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process) para obter detalhes.

## <a name="roslyn-analyzers-task"></a>Tarefa de analisadores de Roslyn

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userProvideBuildInfo | Seleção | always | True | auto | automático, msBuildInfo | Opções para um usuário fornecer a versão do MSBuild, a arquitetura do MSBuild e a linha de comando de compilação para análise de Roslyn. Se a seleção **automática** for selecionada, essa tarefa recuperará as informações de compilação das tarefas anteriores de **MSBuild**, **VSBuild**e/ou **.NET Core** (para compilação) no mesmo pipeline.
| msBuildVersion | Seleção | userProvideBuildInfo = = msBuildInfo | True | 16,0 | 15,0, 16,0 | A versão do MSBuild.
| msBuildArchitecture | Seleção | userProvideBuildInfo = = msBuildInfo | True | x86 | DotNetCore, x64, x86 | A arquitetura do MSBuild. Observação: se a linha de comando da compilação chamar **dotnet. exe**, escolha a opção **via .NET Core** .
| msBuildCommandline | string | userProvideBuildInfo = = msBuildInfo | True |  |  | A linha de comando de compilação completa para compilar sua solução ou projetos.<br/><br/>Observações: a linha de comando deve começar com um caminho completo para **MSBuild. exe** ou **dotnet. exe**.<br/>O comando será executado com $ (Build. SourcesDirectory) como o diretório de trabalho.
| RuleSetName | Seleção | always | False | Recomendado | Personalizado, nenhum, recomendado, obrigatório | Um conjunto de regras nomeado a ser usado.<br/><br/>Se `Ruleset Configured In Your Visual Studio Project File(s)` for escolhido, o conjunto de regras pré-configurado em seus arquivos de projeto do VS será usado. Se `Custom` for escolhido, uma opção de caminho personalizado do conjunto de regras poderá ser definida.
| rulesetVersion | Seleção | RuleSetName = = obrigatório ou RuleSetName = = recomendado | False | Mais recente | 8,0, 8,1, 8,2, mais recente, LatestPreRelease | A versão do conjunto de regras do SDL escolhido.
| customRuleset | string | RuleSetName = personalizado | False |  |  | Um caminho acessível para um RuleSet a ser usado. Os caminhos relativos serão normalizados para a raiz do repositório de origem (`$(Build.SourcesDirectory)`).<br/><br/>Se o conjunto de regras especificar `Rules` com `Actions` definido como `Error`, a tarefa de compilação falhará. Para usar um conjunto de regras que faz isso, verifique `Continue on error` na `Control Options`da tarefa de compilação.
| microsoftAnalyzersVersion | Seleção | always | False | Mais recente | 2.9.3, 2.9.4, 2.9.6, mais recente, LatestPreRelease | A versão do pacote [Microsoft. CodeAnalysis. FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) a ser executada.
| suppressionFileForCompilerWarnings | filePath | always | False |  |  | Um arquivo de supressão para suprimir C# e avisos de compilador do VB.<br/><br/>Um arquivo de texto sem formatação com cada ID de aviso lista uma linha separada.<br/>Para avisos do compilador, especifique apenas a parte numérica do identificador de aviso. Por exemplo, 1018 irá suprimir CS1018 e CA1501 suprimirá CA1501.<br/><br/>Um caminho de arquivo relativo será anexado à raiz do repositório de origem (`$(Build.SourcesDirectory)`).

## <a name="tslint-task"></a>Tarefa TSLint

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RuleLibrary | Seleção | always | True | tslint | personalizado, Microsoft, tslint | Todos os resultados incluem as regras fornecidas com a versão selecionada do TSLint (**somente base**).<br/><br/>**Somente base-** Somente as regras são fornecidas com TSLint.<br/><br/>**Incluir regras da Microsoft-** Downloads [tslint-Microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) e inclui suas regras para que estejam disponíveis para uso no tslint Run. A escolha dessa opção oculta a caixa de seleção `Type Checking`, pois ela é exigida pelas regras da Microsoft e será usada automaticamente. Ele também Reexibe o campo `Microsoft Contribution Version`, permitindo que uma versão do `tslint-microsoft-contrib` de [NPM](https://www.npmjs.com/package/tslint-microsoft-contrib) seja selecionada.<br/><br/>**Incluir regras personalizadas-** Reexibe o campo `Rules Directory`, que aceita um caminho acessível para um diretório de regras TSLint a serem disponibilizadas para uso na execução do TSLint.<br/><br/>**Observação:** O valor padrão foi alterado para tslint, pois muitos usuários tiveram problemas ao configurar o conjunto de regras da Microsoft. Para configuração de versão específica, consulte [tslint-Microsoft-contrib no GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| RulesDirectory | string | RuleLibrary = = personalizado | True |  |  | Um diretório acessível contendo outras regras de TSLint para estar disponível para uso na execução do TSLint.
| Regras | Seleção | RuleLibrary! = Microsoft | True | tsrecommended | personalizado, tslatest, tsrecommended | Define as regras a serem executadas em arquivos TypeScript.<br/><br/>**[tslint: -mais recente](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)** O estende `tslint:recommended` e é atualizado continuamente para incluir a configuração das regras mais recentes em cada versão do TSLint. O uso dessa configuração pode introduzir alterações significativas em versões secundárias, uma vez que novas regras são habilitadas, o que causa falhas de fiapos em seu código. Quando TSLint atingir um obstáculo de versão principal, `tslint:recommended` será atualizado para ser idêntico ao `tslint:latest`.<br/><br/>**[tslint: -recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)** Um conjunto de regras estável, um pouco conceituada, que TSLint incentiva a programação de TypeScript geral. Essa configuração segue `semver`, portanto, *não* haverá alterações significativas em versões secundárias ou de patch.
| RulesetMicrosoft | Seleção | RuleLibrary = = Microsoft | True | mssdlrequired | Custom, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Define as regras a serem executadas em arquivos TypeScript.<br/><br/>**[Microsoft: SDL-obrigatório](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle) -** executar todas as verificações disponíveis fornecidas por tslint e as regras tslint-Microsoft-contrib que atendem às políticas de [SDL (Security Development Lifecycle)](https://www.microsoft.com/esdl/) *necessárias* .<br/><br/>**[Microsoft: SDL-recomendado](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle) -** executar todas as verificações disponíveis fornecidas por tslint e as regras tslint-Microsoft-contrib que atendem às políticas de [SDL (ciclo de vida de desenvolvimento de segurança)](https://www.microsoft.com/sdl/) *necessárias e recomendadas* .<br/><br/>**[microsoft: -recomendado](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)** Todas as verificações recomendadas pelos criadores das regras tslint-Microsoft-contrib. Isso inclui verificações de segurança e não relacionadas à segurança.<br/><br/>**[tslint: -mais recente](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)** O estende `tslint:recommended` e é atualizado continuamente para incluir a configuração das regras mais recentes em cada versão do TSLint. O uso dessa configuração pode introduzir alterações significativas em versões secundárias, uma vez que novas regras são habilitadas, o que causa falhas de fiapos em seu código. Quando TSLint atingir um obstáculo de versão principal, `tslint:recommended` será atualizado para ser idêntico ao `tslint:latest`.<br/><br/>**[tslint: -recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)** Um conjunto de regras estável, um pouco conceituada, que TSLint incentiva a programação de TypeScript geral. Essa configuração segue `semver`, portanto, *não* haverá alterações significativas em versões secundárias ou de patch.
| Conjunto de regras | string | RuleSet = = Custom ou RulesetMicrosoft = = Custom | True |  |  | Um [arquivo de configuração](https://palantir.github.io/tslint/usage/tslint-json/) que especifica quais regras executar.<br/><br/>O caminho para a configuração será adicionado como o caminho para [regras personalizadas](https://palantir.github.io/tslint/develop/custom-rules/).
| Fileselectiontype | Seleção | always | True | fileGlob | fileGlob, projectFile | 
| Arquivos | string | Fileselectiontype = = fileGlob | True | **\*. TS |  | Um arquivo [glob](https://www.npmjs.com/package/glob) que determina que arquivo (s) processar. Os caminhos são relativos ao valor de `Build.SourcesDirectory`.<br/><br/>A biblioteca de contribuições da Microsoft requer o uso de um arquivo de projeto. Se você estiver usando a biblioteca de contribuições da Microsoft com a opção `File Glob Pattern`, um arquivo de projeto será gerado para você.
| ECMAScriptVersion | Seleção | Fileselectiontype = = fileGlob & & RuleLibrary = = Microsoft | True | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | A versão de destino do ECMAScript configurada com seu compilador TypeScript. Ao usar um arquivo de projeto, este é o campo compiladoroptions. destino do seu arquivo TypeScript tsconfig. JSON.
| Project | string | Fileselectiontype = = projectFile | True |  |  | Caminho para um arquivo [tsconfig. JSON](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) que especifica arquivos TypeScript para executar TSLint. Os caminhos são relativos ao valor de `Build.SourcesDirectory`.
| TypeCheck | Booliano | RuleLibrary! = Microsoft & & fileselectiontype = = projectFile | False | true |  | Habilita o verificador de tipo ao executar regras de refiapoção.
| ExcludeFiles | string | always | False |  |  | Um [glob](https://www.npmjs.com/package/glob) que indica os arquivos a serem excluídos do refiapoing. Os caminhos são relativos ao valor de `Build.SourcesDirectory`. Vários valores podem ser especificados separados por ponto e vírgula.
| OutputFormat | Seleção | always | True | json | Checkstyle, codeFrame, FileList, JSON, MSBuild, PMD, Proseware, com estilo detalhado, VSO | O [formatador](https://palantir.github.io/tslint/formatters/) a ser usado para gerar a saída. Observe que o formato JSON é compatível com a análise posterior.
| NodeMemory | string | always | False |  |  | Uma quantidade explícita de memória em MBs a ser alocada ao nó para execução de TSLint. Exemplo: 8000<br/><br/>Mapeia para a opção de `--max_old_space=<value>` CLI para o nó, que é um `v8 option`.
| ToolVersion | Seleção | RuleLibrary! = Microsoft | True | mais recente | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, tópico 5.4.2, 5.4.3, 5.5.0, mais recente | A [versão](https://github.com/palantir/tslint/releases) do TSLint para baixar e executar.
| TypeScriptVersion | Seleção | always | True | mais recente | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9,, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.1.1, 2.0.9, 2.1.4, 2.1.5, 2.1.6, 2.2.1, personalizado, mais recente | A versão do [typescript](https://www.npmjs.com/package/typescript) para baixar e usar.<br/>**Observação:** Isso precisa ser a mesma versão do TypeScript que é usada para compilar seu código.
| TypeScriptVersionCustom | string | TypeScriptVersion = = personalizado | True | mais recente |  | A versão do [typescript](https://www.npmjs.com/package/typescript) para baixar e usar.<br/>**Observação:** Isso precisa ser a mesma versão do TypeScript que é usada para compilar seu código.
| MicrosoftContribVersion | Seleção | RuleLibrary = = Microsoft |  | mais recente | 4.0.0, 4.0.1, 5.0.0, 5.0.1, mais recente | A versão do [tslint-Microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (regras do SDL) para baixar e usar.</br>**Observação:** A versão de [tslint](https://www.npmjs.com/package/tslint) será escolhida e compatível com a versão escolhida para tslint-Microsoft-contrib. As atualizações para tslint-Microsoft-contrib serão restringidas por essa tarefa de compilação, até que um período de teste possa ocorrer.

## <a name="publish-security-analysis-logs-task"></a>Tarefa publicar logs de análise de segurança

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Artefatoname | string | always | True | CodeAnalysisLogs |  | O nome do artefato a ser criado.
| Artefatotype | Seleção | always | True | Contêiner | Contêiner, FilePath | O tipo do artefato a ser criado.
| TargetPath | string | Artefatotype = FilePath | False | \\my\share\$(Build. definitionname)<br>\$(Build. BuildNumber) |  | O compartilhamento de arquivos para o qual os arquivos são copiados
| Todas as ferramentas | Booliano | always | True | true |  | Publicar resultados gerados por todas as tarefas de compilação de ferramentas de desenvolvimento seguro.
| AntiMalware | Booliano | Ontools = false | True | true |  | Publicar resultados gerados por tarefas de compilação antimalware.
| BinSkim | Booliano | Ontools = false | True | true |  | Publicar resultados gerados por tarefas de compilação BinSkim.
| CredScan | Booliano | Ontools = false | True | true |  | Publicar resultados gerados pelas tarefas de compilação do verificador de credenciais.
| MSRD | Booliano | Ontools = false | True | true |  | Publicar informações do trabalho e URLs de trabalho para trabalhos do MSRD iniciados pela tarefa de compilação do MSRD. Os trabalhos do MSRD são de longa execução e fornecem relatórios separados.
| RoslynAnalyzers | Booliano | Ontools = false | True | falso |  | Publicar resultados gerados por tarefas de compilação de analisadores Roslyn.
| TSLint | Booliano | Ontools = false | True | true |  | Publicar resultados gerados por tarefas de compilação TSLint. Observe que somente os logs do TSLint no formato JSON têm suporte para relatórios. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| ToolLogsNotFoundAction | seleção | always | True | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.

## <a name="security-report-task"></a>Tarefa de relatório de segurança

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | Booliano | always | False | true |  | Gravar resultados no console do pipeline.
| TsvFile | Booliano | always | False | true |  | Gere um arquivo TSV (valores separados por tabulação) com uma linha por resultado encontrado e guias separando as informações para o resultado.
| HTMLFILE | Booliano | always | False | true |  | Gere um arquivo de relatório HTML.
| Todas as ferramentas | Booliano | always | True | falso |  | Resultados do relatório gerados por todas as tarefas de compilação de ferramentas de desenvolvimento seguro.
| BinSkim | Booliano | Ontools = false | True | falso |  | Resultados de relatório gerados por tarefas de compilação BinSkim.
| BinSkimBreakOn | Seleção | Ontools = true ou BinSkim = true | True | Erro | Erro, WarningAbove | O nível dos resultados a serem relatados.
| CredScan | Booliano | Ontools = false | True | falso |  | Resultados do relatório gerados por tarefas de compilação do verificador de credenciais.
| MSRD | Booliano | Ontools = false | True | falso |  | Informações de trabalho de relatório e URLs de trabalho para trabalhos de MSRD iniciados pela tarefa de compilação MSRD. Os trabalhos do MSRD são de longa execução e fornecem relatórios separados.
| RoslynAnalyzers | Booliano | Ontools = false | True | falso |  | Resultados do relatório gerados pelas tarefas de compilação do Roslyn Analyzer.
| RoslynAnalyzersBreakOn | Seleção | Ontools = true ou RoslynAnalyzers = true | True | Erro | Erro, WarningAbove | O nível dos resultados a serem relatados.
| TSLint | Booliano | Ontools = false | True | falso |  | Resultados de relatório gerados por tarefas de compilação TSLint. Observe que somente os logs do TSLint no formato JSON têm suporte para relatórios. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| TSLintBreakOn | Seleção | Ontools = true ou TSLint = true | True | Erro | Erro, WarningAbove | O nível dos resultados a serem relatados.
| ToolLogsNotFoundAction | seleção | always | True | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.
| CustomLogsFolder | string | always | False |  |  | A pasta base onde os logs da ferramenta de análise estão localizados; os arquivos de log individuais estarão em subpastas nomeadas após cada ferramenta, sob esse caminho.

## <a name="post-analysis-task"></a>Tarefa de pós-análise

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor Padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Todas as ferramentas | Booliano | always | True | falso |  | Interrompa a compilação se algum problema for encontrado por qualquer tarefa de compilação de análise de código de segurança da Microsoft.
| BinSkim | Booliano | Ontools = false | True | falso |  | Interrompa a compilação se algum problema de BinSkim for encontrado, de acordo com a opção de interrupção selecionada.
| BinSkimBreakOn | Seleção | Ontools = true ou BinSkim = true | True | Erro | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| CredScan | Booliano | Ontools = false | True | falso |  | Interrompa a compilação se algum problema do verificador de credenciais for encontrado.
| RoslynAnalyzers | Booliano | Ontools = false | True | falso |  | Interrompa a compilação se algum problema de analisadores de Roslyn for encontrado.
| RoslynAnalyzersBreakOn | Seleção | Ontools = true ou RoslynAnalyzers = true | True | Erro | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| TSLint | Booliano | Ontools = false | True | falso |  | Interrompa a compilação se algum problema de TSLint for encontrado. Observe que somente os logs do TSLint no formato JSON têm suporte para análise posterior. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| TSLintBreakOn | Seleção | Ontools = true ou TSLint = true | True | Erro | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| VstsConsole | Booliano | always | False | true |  | Gravar resultados no console do pipeline.
| ToolLogsNotFoundAction | seleção | always | True | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.

## <a name="next-steps"></a>Próximos passos

Se você tiver mais dúvidas sobre a extensão de análise de código de segurança e as ferramentas oferecidas, confira [nossa página de perguntas frequentes](security-code-analysis-faq.md).