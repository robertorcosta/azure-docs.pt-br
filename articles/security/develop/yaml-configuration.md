---
title: Guia de personalização de tarefas de análise de código de segurança Microsoft Azure
description: Este artigo descreve as opções de configuração do YAML para personalizar todas as tarefas na extensão de análise de código de segurança da Microsoft
author: sukhans
manager: sukhans
ms.author: terrylan
ms.date: 03/22/2021
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: a41a788a84770201996fd369d9b47031674afee3
ms.sourcegitcommit: ba3a4d58a17021a922f763095ddc3cf768b11336
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/23/2021
ms.locfileid: "104799540"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Opções de configuração do YAML para personalizar as tarefas de compilação

> [!Note]
> A partir de 1º de março de 2022, a extensão MSCA (análise de código de segurança da Microsoft) será desativada. Os clientes MSCA existentes manterão seu acesso ao MSCA até 1º de março de 2022. Consulte as ferramentas de [análise de código-fonte OWASP](https://owasp.org/www-community/Source_Code_Analysis_Tools) para obter opções alternativas no Azure DevOps. Para os clientes que planejam migrar para o GitHub, você pode conferir a [segurança avançada do GitHub](https://docs.github.com/github/getting-started-with-github/about-github-advanced-security).

Este artigo lista todas as opções de configuração do YAML disponíveis em cada uma das tarefas de compilação. O artigo começa com as tarefas de ferramentas de análise de código de segurança. Ele termina com as tarefas de pós-processamento.

## <a name="anti-malware-scanner-task"></a>Tarefa de scanner antimalware

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Seleção | always | Verdadeiro | Basic | Básico, personalizado | 
| ScanType | Seleção | InputType = básico | Verdadeiro | CustomScan | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | O tipo de verificação a ser usado para a verificação de antimalware.
| FileDirPath | filePath | ScanType = CustomScan | Verdadeiro | $ (Build. StagingDirectory) |  | Indica o arquivo ou diretório a ser examinado.
| DisableRemediation | booleano | ScanType = CustomScan | Falso | true |  | Quando marcada: 1) as exclusões de arquivo são ignoradas. 2) os arquivos mortos são verificados. 3) as ações não são aplicadas após a detecção. 4) as entradas do log de eventos não são gravadas após a detecção. 5) as detecções da verificação personalizada não são exibidas na interface do usuário. 6) a saída do console mostrará a lista de detecções da verificação personalizada.
| BootSectorScan | booleano | ScanType = CustomScan | Falso | false |  | Se marcada, ela habilita a verificação do setor de inicialização.
| Argumentos | Cadeia de caracteres | InputType = personalizado | Verdadeiro | -Scan-Examinátype 3-DisableRemediation-arquivo $ (Build. StagingDirectory) |  | Os argumentos de linha de comando, em que o argumento para-File é um caminho absoluto ou um caminho relativo para o $ (Build. StagingDirectory) predefinido em seu agente de compilação. Observação: se você não fornecer um argumento para-File como o último argumento, o padrão será $ (Build. StagingDirectory). Você também pode fornecer seus próprios argumentos permitidos pela ferramenta de MpCmdRun.exe.<br/><br/>Para obter mais detalhes sobre os argumentos de linha de comando para essa ferramenta, digite <strong>-h</strong> ou <strong>-?</strong> no campo argumentos e execute a tarefa de compilação.
| Habilitadoservices | booleano | always | Verdadeiro | false |  | Se marcado, ele tentará habilitar os serviços necessários para Windows Update caso estejam desabilitados.<br/>**Observação**: Verifique se a política de grupo não desabilita os serviços e se a conta em que essa compilação está sendo executada tem privilégios de administrador.
| SupportLogOnError | booleano | always | Verdadeiro | false |  | Se marcada, ela coletará os arquivos de suporte para diagnóstico quando ocorre um erro. Isso pode levar vários minutos.<br/>**Observação**: Certifique-se de que a conta em que essa compilação está sendo executada tenha privilégios de administrador.
| TreatSignatureUpdateFailureAs | Seleção | always | Verdadeiro | Aviso | Erro, padrão, aviso | O nível de log usado se a assinatura não puder ser atualizada em tempo de execução. Quando definido como **erro**, uma falha ao atualizar a assinatura falhará na tarefa de compilação. Observe que é comum que a atualização de assinatura falhe em agentes de compilação hospedados, mesmo que a assinatura possa ser relativamente atual (menos de 3 horas).
| SignatureFreshness | Seleção | always | Verdadeiro | UpToDate | OneDay, ThreeDays, TwoDays, UpToDate | A idade máxima permitida para a assinatura antimalware. Se a assinatura não puder ser atualizada e for mais antiga que esse valor, a tarefa de compilação se comportará de acordo com o valor selecionado no campo **idade de assinaturas de validação como** . Observação: se você escolher **atualizado**, as assinaturas poderão ter até 3 horas de idade.
| TreatStaleSignatureAs | Seleção | always | Verdadeiro | Error | Erro, padrão, aviso | O nível de log usado se a idade da assinatura for mais antiga que a **idade da assinatura Antimalware** selecionada. Uma assinatura desatualizada pode ser tratada como um **aviso** ou **informativo** para continuar com a verificação de Antimalware, mas isso não é recomendado.

## <a name="binskim-task"></a>Tarefa BinSkim

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Seleção | always | Verdadeiro | Basic | Básico, linha de comando | 
| argumentos | Cadeia de caracteres | InputType = linha de comando | Verdadeiro |  |  | Argumentos de linha de comando BinSkim padrão a serem executados. O caminho de saída será removido e substituído.<br>Para obter mais detalhes sobre os argumentos de linha de comando para essa ferramenta, insira **ajuda** no campo argumentos e execute a tarefa de compilação.
| Função | Seleção | InputType = básico | Verdadeiro | observa | analisar, despejar, exportConfig, exportRules | 
| AnalyzeTarget | filePath | InputType = função de && básica = analisar | Verdadeiro | $ (Build. ArtifactStagingDirectory) \* . dll;<br>$ (Build. ArtifactStagingDirectory) \* . exe |  | Um ou mais especificadores para um arquivo, diretório ou padrão de filtro que é resolvido para um ou mais binários para analisar. (lista separada '; ')
| AnalyzeSymPath | Cadeia de caracteres | InputType = função de && básica = analisar | Falso |  |  | Caminho para o arquivo de símbolos para o destino.
| AnalyzeConfigPath | Cadeia de caracteres | InputType = função de && básica = analisar | Falso | padrão |  | Caminho para um arquivo de política que será usado para configurar a análise. Passe o valor de ' default ' para usar configurações internas.
| AnalyzePluginPath | Cadeia de caracteres | InputType = função de && básica = analisar | Falso |  |  | Caminho para um plug-in que será invocado em relação a todos os destinos no conjunto de análise.
| AnalyzeRecurse | booleano | InputType = função de && básica = analisar | Falso | true |  | Recurse em subdiretórios ao avaliar argumentos de especificador de arquivo.
| AnalyzeVerbose | booleano | InputType = função de && básica = analisar | Falso | false |  | Emitir saída detalhada. O relatório abrangente resultante é projetado para fornecer evidências apropriadas para cenários de conformidade.
| AnalyzeHashes | booleano | InputType = função de && básica = analisar | Falso | false |  | Saída de hash SHA-256 de destinos de análise ao emitir relatórios de SARIF.
| AnalyzeStatistics | booleano | InputType = função de && básica = analisar | Falso | false |  | Gere o tempo e outras estatísticas para a sessão de análise.
| AnalyzeEnvironment | booleano | InputType = função de && básica = analisar | Falso | false |  | Detalhes do ambiente da máquina de log de executar para o arquivo de saída. Aviso: essa opção registra informações potencialmente confidenciais (como todos os valores de variáveis de ambiente) em qualquer log emitido.
| ExportRulesOutputType | Seleção | InputType = função de && básica = exportRules | Falso | SARIF | SARIF, SonarQube | O tipo de arquivo de descritor de regras para saída. Isso será incluído na pasta de logs do BinSkim publicada pela tarefa de compilação de logs de análise de segurança de publicação.
| DumpTarget | filePath | InputType = função de && básica = despejo | Verdadeiro | $ (Build. ArtifactStagingDirectory) |  | Um ou mais especificadores para um arquivo, diretório ou padrão de filtro que é resolvido para um ou mais binários para analisar. (lista separada '; ')
| DumpRecurse | booleano | InputType = função de && básica = despejo | Falso | true |  | Recurse em subdiretórios ao avaliar argumentos de especificador de arquivo.
| DumpVerbose | booleano | InputType = função de && básica = despejo | Falso | true |  | Emitir saída detalhada. O relatório abrangente resultante é projetado para fornecer evidências apropriadas para cenários de conformidade.
| toolVersion | Seleção | always | Falso | Mais recente | 1.5.0, mais recente, LatestPreRelease | A versão da ferramenta a ser executada.

## <a name="credential-scanner-task"></a>Tarefa do verificador de credenciais

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | Seleção | always | Falso | pre | CSV, pré-TSV | O formato de saída do arquivo de resultados do verificador de credenciais.
| toolVersion | Seleção | always | Falso | Mais recente | 1.27.7, mais recente, LatestPreRelease | A versão da ferramenta a ser executada.
| scanFolder | filePath | always | Falso | $ (Build. SourcesDirectory) |  | A pasta em seu repositório para verificar se há credenciais.
| searchersFileType | Seleção | always | Falso | Padrão | Personalizado, padrão, DefaultAndCustom | Opções para localizar o arquivo de pesquisador usado para verificação.
| searchersFile | filePath | searchersFileType = = Custom ou searchersFileType = = DefaultAndCustom | Falso |  |  | O arquivo de configuração dos pesquisadores de verificadores de credenciais de verificações a serem executadas. Vários valores podem ser incluídos e usados fornecendo uma lista separada por vírgulas de caminhos para arquivos de pesquisador de credenciais.
| suppressionsFile | filePath | always | Falso |  |  | O arquivo de supressões do verificador de credenciais a ser usado para suprimir problemas no log de saída.
| suppressAsError | booleano | always | Falso | false |  | As correspondências suprimidas serão saída para o arquivo de saída [-O]-corresponde. [-f] em vez do arquivo de saída suprimido padrão [-O]-suprimido. [-f]. (O padrão é ' false ')
| verboseOutput | booleano | always | Falso | false |  | Informações detalhadas de saída.
| batchSize | Cadeia de caracteres | always | Falso |  |  | O número de threads simultâneos usados para executar os verificadores de credenciais em paralelo. (O padrão é 20)<br/>O valor deve estar dentro do intervalo de 1-2147483647.
| regexMatchTimeoutInSeconds | Cadeia de caracteres | always | Falso |  |  | A quantidade de tempo em segundos a ser gasto tentando uma correspondência de pesquisador antes de abandonar a verificação.<br/>Adiciona ``-Co RegexMatchTimeoutInSeconds=<Value>`` à linha de comando.
| fileScanReadBufferSize | Cadeia de caracteres | always | Falso |  |  | Tamanho do buffer ao ler o conteúdo em bytes. (O padrão é 524288)<br/>Adiciona ``-Co FileScanReadBufferSize=<Value>`` à linha de comando.
| maxFileScanReadBytes | Cadeia de caracteres | always | Falso |  |  | Número máximo de bytes a serem lidos de um determinado arquivo durante a análise de conteúdo. (O padrão é 104857600)<br/>Adiciona ``-Co MaxFileScanReadBytes=<Value>`` à linha de comando.

## <a name="roslyn-analyzers-task"></a>Tarefa de analisadores de Roslyn

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userProvideBuildInfo | Seleção | always | Verdadeiro | auto | automático, msBuildInfo | Opções para um usuário fornecer a versão do MSBuild, a arquitetura do MSBuild e a linha de comando de compilação para análise de Roslyn. Se a seleção **automática** for selecionada, essa tarefa recuperará as informações de compilação das tarefas anteriores de **MSBuild**, **VSBuild** e/ou **.NET Core** (para compilação) no mesmo pipeline.
| msBuildVersion | Seleção | userProvideBuildInfo = = msBuildInfo | Verdadeiro | 16,0 | 15,0, 16,0 | A versão do MSBuild.
| msBuildArchitecture | Seleção | userProvideBuildInfo = = msBuildInfo | Verdadeiro | x86 | DotNetCore, x64, x86 | A arquitetura do MSBuild. Observação: se a linha de comando de Build chamar **dotnet.exe Build**, escolha a opção **via .NET Core** .
| msBuildCommandline | Cadeia de caracteres | userProvideBuildInfo = = msBuildInfo | Verdadeiro |  |  | A linha de comando de compilação completa para compilar sua solução ou projetos.<br/><br/>Observações: a linha de comando deve começar com um caminho completo para **MSBuild.exe** ou **dotnet.exe**.<br/>O comando será executado com $ (Build. SourcesDirectory) como o diretório de trabalho.
| RuleSetName | Seleção | always | Falso | Recomendadas | Personalizado, nenhum, recomendado, obrigatório | Um conjunto de regras nomeado a ser usado.<br/><br/>Se `Ruleset Configured In Your Visual Studio Project File(s)` for escolhido, o conjunto de regras pré-configurado em seus arquivos de projeto do vs será usado. Se `Custom` for escolhido, uma opção de caminho personalizado do conjunto de regras poderá ser definida.
| rulesetVersion | Seleção | RuleSetName = = obrigatório ou RuleSetName = = recomendado | Falso | Mais recente | 8,0, 8,1, 8,2, mais recente, LatestPreRelease | A versão do conjunto de regras do SDL escolhido.
| customRuleset | Cadeia de caracteres | RuleSetName = personalizado | Falso |  |  | Um caminho acessível para um RuleSet a ser usado. Os caminhos relativos serão normalizados para a raiz do repositório de origem ( `$(Build.SourcesDirectory)` ).<br/><br/>Se o conjunto de regras for especificado `Rules` com `Actions` definido como `Error` , a tarefa de compilação falhará. Para usar um conjunto de regras que faça isso, verifique `Continue on error` as tarefas da compilação `Control Options` .
| microsoftAnalyzersVersion | Seleção | always | Falso | Mais recente | 2.9.3, 2.9.4, 2.9.6, mais recente, LatestPreRelease | A versão do pacote [Microsoft. CodeAnalysis. FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) a ser executada.
| suppressionFileForCompilerWarnings | filePath | always | Falso |  |  | Um arquivo de supressão para suprimir avisos de compilador C# e VB.<br/><br/>Um arquivo de texto sem formatação com cada ID de aviso lista uma linha separada.<br/>Para avisos do compilador, especifique apenas a parte numérica do identificador de aviso. Por exemplo, 1018 irá suprimir CS1018 e CA1501 suprimirá CA1501.<br/><br/>Um caminho de arquivo relativo será anexado à raiz do repositório de origem ( `$(Build.SourcesDirectory)` ).

## <a name="tslint-task"></a>Tarefa TSLint

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RuleLibrary | Seleção | always | Verdadeiro | tslint | personalizado, Microsoft, tslint | Todos os resultados incluem as regras fornecidas com a versão selecionada do TSLint (**somente base**).<br/><br/>**Somente base-** Somente as regras são fornecidas com TSLint.<br/><br/>**Incluir regras da Microsoft-** Downloads [tslint-Microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) e inclui suas regras para que estejam disponíveis para uso no tslint Run. A escolha dessa opção oculta a `Type Checking` caixa de seleção, pois ela é exigida pelas regras da Microsoft e será usada automaticamente. Ele também Reexibe o `Microsoft Contribution Version` campo, permitindo que uma versão do `tslint-microsoft-contrib` [NPM](https://www.npmjs.com/package/tslint-microsoft-contrib) seja selecionada.<br/><br/>**Incluir regras personalizadas-** Reexibe o `Rules Directory` campo, que aceita um caminho acessível para um diretório de regras do TSLint que estará disponível para uso na execução do TSLint.<br/><br/>**Observação:** O valor padrão foi alterado para tslint, pois muitos usuários tiveram problemas ao configurar o conjunto de regras da Microsoft. Para configuração de versão específica, consulte [tslint-Microsoft-contrib no GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| RulesDirectory | Cadeia de caracteres | RuleLibrary = = personalizado | Verdadeiro |  |  | Um diretório acessível contendo outras regras de TSLint para estar disponível para uso na execução do TSLint.
| Regras | Seleção | RuleLibrary! = Microsoft | Verdadeiro | tsrecommended | personalizado, tslatest, tsrecommended | Define as regras a serem executadas em arquivos TypeScript.<br/><br/>**[tslint: mais recente](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** `tslint:recommended`O estende e é atualizado continuamente para incluir a configuração das regras mais recentes em cada versão do TSLint. O uso dessa configuração pode introduzir alterações significativas em versões secundárias, uma vez que novas regras são habilitadas, o que causa falhas de fiapos em seu código. Quando TSLint atingir um obstáculo de versão principal, `tslint:recommended` será atualizado para ser idêntico ao `tslint:latest` .<br/><br/>**[tslint: recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Um conjunto de regras estável, um pouco conceituada, que TSLint incentiva a programação de TypeScript geral. Essa configuração segue `semver` , portanto, *não* haverá alterações significativas em versões secundárias ou de patch.
| RulesetMicrosoft | Seleção | RuleLibrary = = Microsoft | Verdadeiro | mssdlrequired | Custom, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Define as regras a serem executadas em arquivos TypeScript.<br/><br/>**[Microsoft: SDL – obrigatório](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Execute todas as verificações disponíveis fornecidas por tslint e as regras tslint-Microsoft-contrib que atendem às políticas de [SDL (ciclo de vida de desenvolvimento de segurança)](https://www.microsoft.com/sdl/) *necessárias* .<br/><br/>**[Microsoft: SDL – recomendado](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Execute todas as verificações disponíveis fornecidas por tslint e as regras tslint-Microsoft-contrib que satisfazem as políticas de [SDL (ciclo de vida de desenvolvimento de segurança)](https://www.microsoft.com/sdl/) *necessárias e recomendadas* .<br/><br/>**Microsoft: recomendado** Todas as verificações recomendadas pelos criadores das regras tslint-Microsoft-contrib. Isso inclui verificações de segurança e não relacionadas à segurança.<br/><br/>**[tslint: mais recente](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** `tslint:recommended`O estende e é atualizado continuamente para incluir a configuração das regras mais recentes em cada versão do TSLint. O uso dessa configuração pode introduzir alterações significativas em versões secundárias, uma vez que novas regras são habilitadas, o que causa falhas de fiapos em seu código. Quando TSLint atingir um obstáculo de versão principal, `tslint:recommended` será atualizado para ser idêntico ao `tslint:latest` .<br/><br/>**[tslint: recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Um conjunto de regras estável, um pouco conceituada, que TSLint incentiva a programação de TypeScript geral. Essa configuração segue `semver` , portanto, *não* haverá alterações significativas em versões secundárias ou de patch.
| Conjunto de regras | Cadeia de caracteres | RuleSet = = Custom ou RulesetMicrosoft = = Custom | Verdadeiro |  |  | Um [arquivo de configuração](https://palantir.github.io/tslint/usage/cli/) que especifica quais regras executar.<br/><br/>O caminho para a configuração será adicionado como o caminho para [regras personalizadas](https://palantir.github.io/tslint/develop/custom-rules/).
| Fileselectiontype | Seleção | always | Verdadeiro | fileGlob | fileGlob, projectFile | 
| Arquivos | Cadeia de caracteres | Fileselectiontype = = fileGlob | Verdadeiro | **\*. TS |  | Um arquivo [glob](https://www.npmjs.com/package/glob) que determina que arquivo (s) processar. Os caminhos são relativos ao `Build.SourcesDirectory` valor.<br/><br/>A biblioteca de contribuições da Microsoft requer o uso de um arquivo de projeto. Se você estiver usando a biblioteca de contribuições da Microsoft com a `File Glob Pattern` opção, um arquivo de projeto será gerado para você.
| ECMAScriptVersion | Seleção | Fileselectiontype = = fileGlob && RuleLibrary = = Microsoft | Verdadeiro | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | A versão de destino do ECMAScript configurada com seu compilador TypeScript. Ao usar um arquivo de projeto, este é o campo compiladoroptions. destino de seu tsconfig.jsTypeScript no arquivo.
| Project | Cadeia de caracteres | Fileselectiontype = = projectFile | Verdadeiro |  |  | Caminho para um [tsconfig.jsno](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) arquivo que especifica os arquivos TypeScript nos quais executar TSLint. Os caminhos são relativos ao `Build.SourcesDirectory` valor.
| TypeCheck | booleano | RuleLibrary! = Microsoft && fileselectiontype = = projectFile | Falso | true |  | Habilita o verificador de tipo ao executar regras de refiapoção.
| ExcludeFiles | Cadeia de caracteres | always | Falso |  |  | Um [glob](https://www.npmjs.com/package/glob) que indica os arquivos a serem excluídos do refiapoing. Os caminhos são relativos ao `Build.SourcesDirectory` valor. Vários valores podem ser especificados separados por ponto e vírgula.
| OutputFormat | Seleção | always | Verdadeiro | json | Checkstyle, codeFrame, FileList, JSON, MSBuild, PMD, Proseware, com estilo detalhado, VSO | O [formatador](https://palantir.github.io/tslint/formatters/) a ser usado para gerar a saída. Observe que o formato JSON é compatível com a análise posterior.
| NodeMemory | Cadeia de caracteres | always | Falso |  |  | Uma quantidade explícita de memória em MBs a ser alocada ao nó para execução de TSLint. Exemplo: 8000<br/><br/>Mapeia para a `--max_old_space=<value>` opção da CLI para o nó, que é um `v8 option` .
| ToolVersion | Seleção | RuleLibrary! = Microsoft | Verdadeiro | mais recente | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, tópico 5.4.2, 5.4.3, 5.5.0, mais recente | A [versão](https://github.com/palantir/tslint/releases) do TSLint para baixar e executar.
| TypeScriptVersion | Seleção | always | Verdadeiro | mais recente | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.1, 2.1.4, 2.1.5, 2.1.6, 2.2.0, 2.2.1, Custom e Latest | A versão do [typescript](https://www.npmjs.com/package/typescript) para baixar e usar.<br/>**Observação:** Isso precisa ser a mesma versão do TypeScript que é usada para compilar seu código.
| TypeScriptVersionCustom | Cadeia de caracteres | TypeScriptVersion = = personalizado | Verdadeiro | mais recente |  | A versão do [typescript](https://www.npmjs.com/package/typescript) para baixar e usar.<br/>**Observação:** Isso precisa ser a mesma versão do TypeScript que é usada para compilar seu código.
| MicrosoftContribVersion | Seleção | RuleLibrary = = Microsoft |  | mais recente | 4.0.0, 4.0.1, 5.0.0, 5.0.1, mais recente | A versão do [tslint-Microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (regras do SDL) para baixar e usar.</br>**Observação:** A versão de [tslint](https://www.npmjs.com/package/tslint) será escolhida e compatível com a versão escolhida para tslint-Microsoft-contrib. As atualizações para tslint-Microsoft-contrib serão restringidas por essa tarefa de compilação, até que um período de teste possa ocorrer.

## <a name="publish-security-analysis-logs-task"></a>Tarefa publicar logs de análise de segurança

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Artefatoname | Cadeia de caracteres | always | Verdadeiro | CodeAnalysisLogs |  | O nome do artefato a ser criado.
| Artefatotype | Seleção | always | Verdadeiro | Contêiner | Contêiner, FilePath | O tipo do artefato a ser criado.
| TargetPath | Cadeia de caracteres | Artefatotype = FilePath | Falso | \\my\share \$ (Build. definitionname)<br>\$(Build. BuildNumber) |  | O compartilhamento de arquivos para o qual os arquivos são copiados
| Todas as ferramentas | booleano | always | Verdadeiro | true |  | Publicar resultados gerados por todas as tarefas de compilação de ferramentas de desenvolvimento seguro.
| AntiMalware | booleano | Ontools = false | Verdadeiro | true |  | Publicar resultados gerados por tarefas de compilação antimalware.
| BinSkim | booleano | Ontools = false | Verdadeiro | true |  | Publicar resultados gerados por tarefas de compilação BinSkim.
| CredScan | booleano | Ontools = false | Verdadeiro | true |  | Publicar resultados gerados pelas tarefas de compilação do verificador de credenciais.
| RoslynAnalyzers | booleano | Ontools = false | Verdadeiro | false |  | Publicar resultados gerados por tarefas de compilação de analisadores Roslyn.
| TSLint | booleano | Ontools = false | Verdadeiro | true |  | Publicar resultados gerados por tarefas de compilação TSLint. Observe que somente os logs do TSLint no formato JSON têm suporte para relatórios. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| ToolLogsNotFoundAction | seleção | always | Verdadeiro | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.

## <a name="security-report-task"></a>Tarefa de relatório de segurança

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | booleano | always | Falso | true |  | Gravar resultados no console do pipeline.
| TsvFile | booleano | always | Falso | true |  | Gere um arquivo TSV (valores separados por tabulação) com uma linha por resultado encontrado e guias separando as informações para o resultado.
| HTMLFILE | booleano | always | Falso | true |  | Gere um arquivo de relatório HTML.
| Todas as ferramentas | booleano | always | Verdadeiro | false |  | Resultados do relatório gerados por todas as tarefas de compilação de ferramentas de desenvolvimento seguro.
| BinSkim | booleano | Ontools = false | Verdadeiro | false |  | Resultados de relatório gerados por tarefas de compilação BinSkim.
| BinSkimBreakOn | Seleção | Ontools = true ou BinSkim = true | Verdadeiro | Error | Erro, WarningAbove | O nível dos resultados a serem relatados.
| CredScan | booleano | Ontools = false | Verdadeiro | false |  | Resultados do relatório gerados por tarefas de compilação do verificador de credenciais.
| RoslynAnalyzers | booleano | Ontools = false | Verdadeiro | false |  | Resultados do relatório gerados pelas tarefas de compilação do Roslyn Analyzer.
| RoslynAnalyzersBreakOn | Seleção | Ontools = true ou RoslynAnalyzers = true | Verdadeiro | Error | Erro, WarningAbove | O nível dos resultados a serem relatados.
| TSLint | booleano | Ontools = false | Verdadeiro | false |  | Resultados de relatório gerados por tarefas de compilação TSLint. Observe que somente os logs do TSLint no formato JSON têm suporte para relatórios. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| TSLintBreakOn | Seleção | Ontools = true ou TSLint = true | Verdadeiro | Error | Erro, WarningAbove | O nível dos resultados a serem relatados.
| ToolLogsNotFoundAction | seleção | always | Verdadeiro | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.
| CustomLogsFolder | Cadeia de caracteres | always | Falso |  |  | A pasta base onde os logs da ferramenta de análise estão localizados; os arquivos de log individuais estarão em subpastas nomeadas após cada ferramenta, sob esse caminho.

## <a name="post-analysis-task"></a>Tarefa de pós-análise

| **InputType**      | **Tipo**     | **Se**            | **Obrigatório** | **Valor padrão**             | **Opções (para listas)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Todas as ferramentas | booleano | always | Verdadeiro | false |  | Interrompa a compilação se algum problema for encontrado por qualquer tarefa de compilação de análise de código de segurança da Microsoft.
| BinSkim | booleano | Ontools = false | Verdadeiro | false |  | Interrompa a compilação se algum problema de BinSkim for encontrado, de acordo com a opção de interrupção selecionada.
| BinSkimBreakOn | Seleção | Ontools = true ou BinSkim = true | Verdadeiro | Error | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| CredScan | booleano | Ontools = false | Verdadeiro | false |  | Interrompa a compilação se algum problema do verificador de credenciais for encontrado.
| RoslynAnalyzers | booleano | Ontools = false | Verdadeiro | false |  | Interrompa a compilação se algum problema de analisadores de Roslyn for encontrado.
| RoslynAnalyzersBreakOn | Seleção | Ontools = true ou RoslynAnalyzers = true | Verdadeiro | Error | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| TSLint | booleano | Ontools = false | Verdadeiro | false |  | Interrompa a compilação se algum problema de TSLint for encontrado. Observe que somente os logs do TSLint no formato JSON têm suporte para análise posterior. Se você tiver escolhido um formato diferente, atualize sua tarefa de compilação do TSLint de forma adequada.
| TSLintBreakOn | Seleção | Ontools = true ou TSLint = true | Verdadeiro | Error | Erro, WarningAbove | O nível de problemas para interromper a compilação.
| VstsConsole | booleano | always | Falso | true |  | Gravar resultados no console do pipeline.
| ToolLogsNotFoundAction | seleção | always | Verdadeiro | Standard | Erro, nenhum, padrão, aviso | A ação a ser tomada quando os logs de uma ferramenta selecionada (ou qualquer ferramenta, se todas as ferramentas estiverem marcadas) não forem encontrados, indicando que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhum:** A mensagem é gravada no fluxo de saída detalhado somente acessível definindo a variável **System. Debug** do VSTS como **true**.<br/>**Standard:** (padrão) grava uma mensagem de saída padrão que nenhum log foi encontrado para a ferramenta.<br/>**AVISO:** Grava uma mensagem de aviso amarelo de que nenhum log foi encontrado para a ferramenta, que aparece na página de resumo da compilação como um aviso.<br/>**Erro:** Grava uma mensagem de erro vermelha e gera uma exceção, interrompendo a compilação. Use esta opção para garantir com opções de ferramentas individuais para garantir quais ferramentas foram executadas.

## <a name="next-steps"></a>Próximas etapas

Se você tiver mais dúvidas sobre a extensão de análise de código de segurança e as ferramentas oferecidas, confira [nossa página de perguntas frequentes](security-code-analysis-faq.md).